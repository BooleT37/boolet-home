<% var listTag = data['day-list-style'] === 'ordered' ? '<ol>' : '<ul>'%>
<% var listClosingTag = data['day-list-style'] === 'ordered' ? '</ol>' : '</ul>'%>
<% var tasksTag = data['task-list-style'] === 'ordered' ? '<ol>' : '<ul>'%>
<% var tasksClosingTag = data['task-list-style'] === 'ordered' ? '</ol>' : '</ul>'%>
<!DOCTYPE html>
<html lang="ru">
<head>
    <title> Планнер </title>
</head>
<body>
<p> <b> <i> Январь Февраль Март Апрель Май Июнь Июль Август Сентябрь Октябрь Ноябрь Декабрь </i> </b> </p>
<p></p>
<table border="2">
    <tbody>
    <tr>
        <td style="text-align: center"><%= data['day-1-number']%></td>
        <td style="text-align: center"><%= data['day-2-number']%></td>
        <td style="text-align: center"><%= data['day-3-number']%></td>
    </tr>
    <tr>
        <th scope="col"><%= data['day-1-name']%></th>
        <th scope="col"><%= data['day-2-name']%></th>
        <th scope="col"><%= data['day-3-name']%></th>
    </tr>
    <tr>
        <td style="vertical-align: top">
            <%- data['day-1-tasks-img'] ? `<img src="${data['day-1-tasks-img']}" width="${data['day-1-tasks-img-width']}" height="${data['day-1-tasks-img-height']}" alt="day-1-tasks-img" />` : '' %>
            <%- listTag %>
                <%- data['day-1-tasks'] ? data['day-1-tasks'].filter(task => !!task).map(task => `<li> ${task} </li>`).join(' ') : '' %>
            <%- listClosingTag %>
        </td>
        <td style="vertical-align: top">
            <%- data['day-2-tasks-img'] ? `<img src="${data['day-2-tasks-img']}" width="${data['day-2-tasks-img-width']}" height="${data['day-2-tasks-img-height']}" alt="day-2-tasks-img" />` : '' %>
            <%- listTag %>
                <%- data['day-2-tasks'] ? data['day-2-tasks'].filter(task => !!task).map(task => `<li> ${task} </li>`).join(' ') : '' %>
            <%- listClosingTag %>
        </td>
        <td style="vertical-align: top">
            <%- data['day-3-tasks-img'] ? `<img src="${data['day-3-tasks-img']}" width="${data['day-3-tasks-img-width']}" height="${data['day-3-tasks-img-height']}" alt="day-3-tasks-img" />` : '' %>
            <%- listTag %>
                <%- data['day-3-tasks'] ? data['day-3-tasks'].filter(task => !!task).map(task => `<li> ${task} </li>`).join(' ') : '' %>
            <%- listClosingTag %>
        </td>
    </tr>
    </tbody>
</table>
<% if (data['tasks-1'] || data['tasks-2']) { %>
    <table>
        <thead>
        <tr>
            <th scope="col" colspan="2">Список дел</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <% if (data['tasks-1']) { %>
                <td>
                    <%- tasksTag %>
                        <%- data['tasks-1'].filter(task => !!task).map(task => `<li> ${task} </li>`).join(' ') %>
                    <%- tasksClosingTag %>
                </td>
            <% } %>
            <% if (data['tasks-2']) { %>
                <td width="300">
                    <%- tasksTag %>
                        <%- data['tasks-2'].filter(task => !!task).map(task => `<li> ${task} </li>`).join(' ') %>
                    <%- tasksClosingTag %>
                </td>
            <% } %>
        </tr>
        </tbody>
    </table>
<% } %>
</body>
</html>
